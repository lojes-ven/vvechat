# ID 生成器与 LRU 缓存测试套件本目录包含分布式 ID 生成器和 LRU 缓存实现的测试套件。## 目录结构- `id_bench/`: ID 生成器基准测试 (Python)- `lru_bench/`: LRU 缓存基准测试 (Node.js + Python 包装器)- `out/`: 所有日志、CSV 数据和图表的输出目录。- `report/`: 最终测试报告。## 前置要求- Python 3.x- Node.js- Python 库: `matplotlib` (用于绘图)## 1. 运行 ID 生成器基准测试 (ID Bench)从仓库根目录运行运行器脚本：```bashpython test/id_bench/runner.py --nodes 4 --workers-per-node 2 --target-qps 100000 --duration 10 --mode mutex```参数说明:- `--mode`: 并发模式，可选 `mutex` (默认, 互斥锁), `batched` (批量), `cachedtime` (缓存时间)- `--target-qps`: 目标 QPS (例如 200000)- `--nodes`: 模拟的节点进程数- `--workers-per-node`: 每个节点的 worker 数生成图表:```bashpython test/id_bench/plot.py```## 2. 运行 LRU 缓存基准测试 (LRU Bench)从仓库根目录运行运行器脚本：```bashpython test/lru_bench/run_lru_bench.py```该脚本会自动调用 Node.js 对不同容量和负载模式进行测试。生成图表:```bashpython test/lru_bench/plot.py```## 3. 查看输出结果请检查 `test/out/` 目录下的文件：- `id_bench_results.json`: ID 测试的汇总结果。- `id_bench_timeseries.csv`: 每秒 QPS 监控数据。- `id_bench_stability.png`: QPS 稳定性曲线图。- `lru_bench_results.csv`: LRU 测试的详细指标。- `lru_bench_hitrate.png`: LRU 命中率曲线图。-